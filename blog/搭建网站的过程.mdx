---
title: 网站搭建过程
description: The process of erecting my first website through docusaurus
authors: bear
date: 2023-07-13T08:00
tags: [网站搭建]
image: https://s2.loli.net/2023/07/15/cwH2OBANpZXLmTM.png
hide_table_of_contents: false
---
import TOCInline from '@theme/TOCInline';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


## 一、整体布局
### 1. 导航栏navbar布局
仅修改`docusaurus.config.js`里面的`navbar`的内容即可   [**详情**](https://docusaurus.io/docs/api/themes/configuration#navbar)

### 2. 底部footer布局
仅仅修改了多行item的内容和数量，只是要注意，每一个item都需要有`label`和`to`或`href`属性。[**详情**](https://docusaurus.io/docs/api/themes/configuration#footer-links)

### 3. 首页界面
修改`src/pages/index.js`和`src/components/HomepageFeatures/index.js`的内容即可

## 二、博客搭建
### 1. 生成博客
只要在blog目录下新建`.md`或`.mdx`文件即可，这里我创建的文档是 `.mdx` 后缀的，因为这可以使用 `.md` 文件的语法，也可以在文档中加入React组件。

### 2. 博客作者部分
利用docusaurus中的front matter来描述作者信息，有**内联作者和全局作者**
+ 内联作者  

我常用的front matter [**详情**](https://docusaurus.io/zh-CN/docs/api/plugins/@docusaurus/plugin-content-blog#markdown-front-matter)
```yml
---
authors:
  - name: BearProfessor
    url: https://github.com/bear-doctor?tab=repositories
    image_url: https://upload.cc/i1/2023/07/14/ni9LyD.png
    email: bear_professor@outlook.com
---
```
> 如果想要得到图片的`url`地址，就需要用到图床，我用的是`upload.cc`

+ 全局作者

其实就是把上面的front matter放入一个专门的文件中，需要的时候调用文件
```yml
---
author: bear
---
```

### 3. 博客日期
用`date`属性即可，[**详情**](https://docusaurus.io/zh-CN/docs/blog#blog-post-date)

```yml
---
date: 2023-07-14T18:00
---
```

### 4. 博客侧边栏
在 `docusaurus.config.js` 中设置了 `blogSidebarTitle` 和 `blogSidebarCount` 等属性
```javascript
module.exports = {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        blog: {
          blogSidebarTitle: '全部博文',
          blogSidebarCount: 'ALL',
        },
      },
    ],
  ],
};
```
其中,`blogSidebarTitle`是指侧边栏的题目；`blogSidebarCount`是指侧边栏中显示的博客数量。
[**详情**](https://docusaurus.io/zh-CN/docs/blog#blog-sidebar)


## 三、文档
### 3.1 侧边栏
#### 3.1.1 侧边栏的具体类型
1. [doc（有简写方式）](https://docusaurus.io/docs/sidebar/items#sidebar-item-doc)
2. link
3. html
4. [category（生成items的dropdown）](https://docusaurus.io/docs/sidebar/items#sidebar-item-category)
#### 3.1.2 指定侧边栏的文档或者目录顺序
侧边栏采用的自动生成Autogenerated，默认是按照字母的顺序来排列的，可以指定目录的顺序，文档的顺序。[**详情**](https://docusaurus.io/zh-CN/docs/sidebar/autogenerated#autogenerated-sidebar-metadata)
#### 3.1.3 自定义侧边栏
1. 我的网站中，`navbar`中的 “知识大门” 和 “算法” 其实都是在docs文件夹中，但是点击这两个内容会出现不同的侧边栏，这就需要在`sidebar.js`文件中自定义侧边栏（可以定义侧边栏包含什么内容）。这里的例子可以去看 [**官方文档**](https://docusaurus.io/zh-CN/docs/sidebar/autogenerated)  中的开头的例子。 
2. 文档的侧边栏标签可以通过修改 front matter 中的`sidebar_label`来实现，目录的侧边栏可以通过在目录中添加一个`_category_.yml`来实现，还可以实现category link功能（这个功能也可以在sidebar.js中指定）
#### 3.1.4 侧边栏隐藏
在docusaurus.config.js中进行了修改。[**具体代码**](https://docusaurus.io/docs/sidebar#hideable-sidebar)
#### [3.1.5 autogenerated](https://docusaurus.io/docs/sidebar/autogenerated)
1. 使用`type:autogenerated`可以自动生成侧边栏，每一个文件夹会生成一个`category`类型的侧边栏，每一个文件会生成一个`doc`类型的侧边栏。
2. autogenerated产生的侧边栏，无法在sidebar.js文件中自定义侧边栏的label，对于file而言，可以在front matter中声明`sidebar_label`，对于category而言，可以在目录中添加`_category_.yml`文件，在这个文件中进行声明
3. 对于其他类型的侧边栏，都是从`sidebar.js`中读取侧边栏信息，而对于`autogenerated`类型的侧边栏，则是从文件中读取信息，从file中读取front matter，从文件夹中读取`_category_.yml`或是`_category_.json`的信息。[**官方文档**](https://docusaurus.io/docs/sidebar/autogenerated#autogenerated-sidebar-metadata)
#### 3.1.6 侧边栏实例
官网的侧边栏sidebar.js的文档，可以结合官方的网站来看。[**文档**](https://docusaurus.io/docs/sidebar#complex-sidebars-example)
#### 3.1.7 [使用多个侧边栏](https://docusaurus.io/docs/sidebar/multiple-sidebars)
可以给不同的文件夹设置不同的侧边栏，我的网站中“知识大门”和“算法”两个都是在docs文件夹下的内容，但我设置了两个侧边栏，官网中navbar中的Docs和Apis也是一样的情况


### 2. 隐藏文件
只要将文件命名为带有_前缀的文件，就不会被Docusaurus显示出来

## 四、Markdown特性
### 1. MDX和React
官网文档讲述了如何引入插件，有内联，导入，全局三种方式，还讲了导入Markdown文档，代码片段。[**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/react)

### 2. 选项卡
官网文档讲述了选项卡如何导入，自定义选项卡。[**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/tabs)
<Tabs
  defaultValue="apple"
  values={[
    {label: 'Apple', value: 'apple'},
    {label: 'Orange', value: 'orange'},
    {label: 'Banana', value: 'banana'},
  ]}>
  <TabItem value="apple">This is an apple 🍎</TabItem>
  <TabItem value="orange">This is an orange 🍊</TabItem>
  <TabItem value="banana">This is a banana 🍌</TabItem>
</Tabs>

### 3. 代码块
1. 代码块的题目  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/code-blocks#code-title)
2. 代码块的语法高亮  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/code-blocks#syntax-highlighting)
3. 代码块的行高亮  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/code-blocks#line-highlighting)
4. 代码块的行数  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/code-blocks#line-numbering)
5. 可交互的代码块  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/code-blocks#interactive-code-editor)
6. 多语言代码块（例子：多个tab用不同的语言）  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/code-blocks#multi-language-support-code-blocks)

### 4. 告示
```yml
:::note 告示

这是我第一次搭建网站

:::

//:::后面还可以跟tip, info, caution, danger这四种，对应了不同的样式

```
:::note 告示

这是我第一次搭建网站

:::

1. 告示注意事项  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/admonitions#usage-with-prettier)
2. 告示自定义题目  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/admonitions#specifying-title)
3. 告示里面可以用MDX  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/admonitions#admonitions-with-mdx)
4. 告示可以用别的方法，如用JSX来实现  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/admonitions#usage-in-jsx)
5. 告示可以自定义样式  [**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/admonitions#customizing-admonitions)

### 5. 标题和目录
标题就用markdown的标准语法即可，而目录有自动生成的方法。[**详情**](https://docusaurus.io/zh-CN/docs/markdown-features/toc#inline-table-of-contents)

### 6. 资源
图片、文件、内嵌图片

### 7. 其他
后续内容用到了再补充


